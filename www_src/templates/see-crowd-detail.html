<div ng-controller="seeCrowdDetailController">
  <ons-page ons-show="onPageShown()">
    <ons-toolbar>
      <div class="left">
        <ons-back-button></ons-back-button>
      </div>
      <div class="center" ng-click="$root.seePlaceDetail(selectedPlace)">
        <div class="crowd-name truncate">
           <ons-icon icon="fa-{{selectedPlace.typeObject.FA_ICON}}"></ons-icon> {{selectedPlace.name}}
        </div>
      </div>
      <div class="right">
        <ons-toolbar-button >
          <ons-icon ng-click="popover.show($event)" icon="fa-ellipsis-v"></ons-icon>
        </ons-toolbar-button>
      </div>
    </ons-toolbar>
    <ons-list>
      <ons-list-item ng-repeat="crowd in selectedPlace.crowds" ng-click="seeCrowdAttachment(crowd)">
        <ons-row align="center">
          <ons-col>
            <span ng-if="crowd.datetimePass === 0">
              {{$root.lang.SEE_CROWD_MENU.JUST_NOW}}
            </span>
            <span ng-if="crowd.datetimePass > 0">
              {{crowd.datetimePass}} {{$root.lang.SEE_CROWD_MENU.MIN_AGO}}
            </span>
            <span class="crowd-owner" ng-if="$root.deviceObject.ID === crowd.device.ID">({{$root.lang.SEE_CROWD_MENU.YOU}})</span>
          </ons-col>
          <ons-col ng-if="crowd.value" width="40px" class="positive-feedback">
            <ons-icon ng-if="crowd.feedbackable === true && crowd.myFeedback !== true" icon="fa-thumbs-o-up" ng-click="givePositiveFeedback(crowd);$event.stopPropagation();"></ons-icon>
            <ons-icon ng-if="crowd.feedbackable === true && crowd.myFeedback === true" icon="fa-thumbs-up"></ons-icon>
            <span>{{crowd.positiveFeedback}}</span>
          </ons-col>
          <ons-col ng-if="crowd.value" width="40px" class="negative-feedback">
            <ons-icon ng-if="crowd.feedbackable === true && crowd.myFeedback !== false" icon="fa-thumbs-o-down" ng-click="giveNegativeFeedback(crowd);$event.stopPropagation();"></ons-icon>
            <ons-icon ng-if="crowd.feedbackable === true && crowd.myFeedback === false" icon="fa-thumbs-down"></ons-icon>
            <span>{{crowd.negativeFeedback}}</span>
          </ons-col>
          <ons-col width="40px" class="crowd-last-value">
            <div ng-if="crowd.value" class="c100 p{{crowd.value}} crowd-size center">
              <div class="slice">
                <div class="bar"></div>
                <div class="fill"></div>
              </div>
            </div>
             <div ng-if="!crowd.value">
                <ons-icon icon="fa-question"></ons-icon>
            </div>
          </ons-col>
        </ons-row>
        <ons-row align="left">
          <ons-col>
            <ons-icon ng-if="crowd.photoURL" icon="fa-picture-o"></ons-icon>
            <ons-icon ng-if="crowd.text" icon="fa-comment-o"></ons-icon>
          </ons-col>
        </ons-row>
      </ons-list-item>
    </ons-list>
  </ons-page>
  <!-- <ons-fab ons-if-platform="android" ng-if="selectedPlaceBasedCrowd.distanceGroup === 0" position="bottom right" ng-click="setCrowd()">
        <ons-icon icon="md-plus"></ons-icon>
    </ons-fab> -->
</div>
